<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Language" content="en">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>chordak demo v2</title>

		<style>
			html {
				/*font-size:62.5%;*/
				/* this rescales the site down so that 10px = 1 rem */
			}

			@import url(https://fonts.googleapis.com/css?family=Average+Sans);
			body {
			  font-family: "Open Sans", sans-serif;
			  margin:0;
			  padding:0;
			  
			  background: #111;
/*			  background: -webkit-linear-gradient(top, 
					rgba(30,30,30,1) 0%,
					rgba(17,17,17,1) 20%,
					rgba(17,17,17,1) 70%,
					rgba(17,17,17,1) 100%);*/
			  	background-attachment: fixed;

	    			display: -webkit-flex;
				display: flex;
  				height: 100vh;
  				flex-direction: column;
  				justify-content: space-between;
  				overflow: hidden;
			}

			
			.main {
				display: -webkit-flex;
				display: flex;
			  	justify-content:flex-start;
			  	width: 100%;
			  	height: calc(100% - 6rem);

			  	/*border: 1px solid blue;*/
			}

			.sidebar {
				position: relative;
				flex: 1 0 15rem;
				flex-shrink: 0;
				min-width: 2.5rem;
				max-width: 2.5rem;
				height: calc(100% - 6rem);
				padding-bottom: -10rem;
  				color: #ddd;
  				z-index: 2;
  				overflow: hidden;

				/*border: 1px solid white;*/
			}

			.sidebar.left {
				padding-right: 2.5rem;
  				font-family: monospace;
  				font-size: 1.6rem;
  				transition: max-width 0.3s ease,min-width 0.3s ease,margin-right 0.3s ease;
			}

			.sidebar.right {
				/*padding-left: 2.5rem;*/
				padding-left: 2.5rem;
				/*margin-left: -5rem;*/
				transition: max-width 0.3s ease,min-width 0.3s ease,margin-left 0.3s ease;
			}

			.sidebar .inner {
				position: absolute;
				top:0;
				width: 15rem;
				height: 100%;
				padding-left: 2.5rem;
				padding-right: 2.5rem;
          		background-color: #222;
				overflow: scroll;
				/*border: 1px solid yellow;*/ 
			}

			.sidebar.left .inner {
				right: 2.5rem;
				-webkit-box-shadow: 5px 0 5px -2px #888;
          		box-shadow: 5px 0 5px -2px #000;
			}

			.sidebar.right .inner {
				left: 2.5rem;
				-webkit-box-shadow: -5px 0 5px -2px #888;
          		box-shadow: -5px 0 5px -2px #000;
			}

			.sidebar.left .inner form {
				/*border: 1px solid green;*/
			}

			.sidebar.left:hover {
				min-width: 20rem;
				max-width: 20rem;
				margin-right: -17.5rem;
			}

			.sidebar.right:hover {
				min-width: 20rem;
				max-width: 20rem;
				margin-left: -17.5rem;
			}
			.sidebar.right .inner .chords {
				/*border: 1px solid green;*/
				height: 100%;

			}

			/*.sidebar.left span {
				position: absolute;
				bottom: 0.2rem;
				right: 2.8rem;
				color:#aaa;
				font-size: 1.4rem;
				font-family: sans-serif;
				text-align: center;
			}*/

			.sidebar .icon {
				position: absolute;
				
				width:1.5rem;
				height:1.5rem;
				opacity: 0.9;
			}

			.sidebar.left .icon {
				right: 3rem;
				bottom: 0.6rem;
			}

			.sidebar.right .icon {
				left: 0.3rem;
				font-size: 1.6rem;
				bottom: 1rem;
			}


			.content {
				/*flex: 1 1 55vw;*/
				/*flex: 1 1 auto;*/
				/*min-width: 40rem;*/
				/*min-width: 60vw;*/
				overflow: hidden;
				width: 100%;
				margin: 0 -5rem 0 -5rem;

				display: -webkit-flex;
				display: flex;
				flex-direction: column;
				justify-content: flex-start;
				align-items: center;
			}

			.trainer {
				/*border: 1px solid red;*/
				flex: 1 1 auto;
				min-height: 15rem;
				max-height: 30rem;
				color:#eee;
				/*width: 50rem;*/
				font-size: 1.4em;
				/*max-width: 60rem;*/
				width: calc(100% - 10rem);
				/*border:1px solid green;*/
				text-align: center;
			}

			footer {
				display: -webkit-flex;
				display: flex;

				justify-content: flex-start;
				margin-bottom: 2.5rem;
				border-top: 1px solid #222;
				border-bottom: 1px solid #222;
				width: 100%;
				/*min-height: 6rem;*/
				flex: 0 0 6rem;

			}
			.keyboard {
				flex: 1 1 auto;
				max-width: 84rem;
				min-height: 26rem;
				overflow: hidden;
				/*border: 0.1rem solid green;*/
				font-size: 1rem;
			}
			
			.keyboard .inner {
				display: -webkit-flex;
				display: flex;

				min-width: 50rem;
				max-width: 84rem;

				position: relative;				
				width: calc(100vw - 10.5rem);
				height:100%;
				/*margin: auto;*/
					
				flex-direction: column;
				justify-content: center;
				overflow: hidden;
				/*border: 0.1rem solid red;*/
			}

			.keyboard.left {
				width: 50rem;
				font-size: 1rem;
			}
			.keyboard.right {
				width: 50rem;
				font-size: 1rem;
			}

			.keyboard.left .inner {
				flex: 1 0 84rem;
				min-width: 50rem;
				max-width: 84rem;
				width: 50rem;
				margin: auto;
			}
			.keyboard.right .inner {
				width: 50rem;
				margin-left: -35rem;
				padding-right: 35rem;
			}

			.keyboard .inner .overlay {
				position: absolute;
				width: 100%;
				height: 100%;
				z-index: 1;
				/*border: 0.1rem solid yellow;*/
			}

			.keyboard.left .inner .overlay {
				background: -webkit-linear-gradient(22deg, 
					rgba(17,17,17,0) 60%,
					rgba(17,17,17,1) 82%);
			}
			.keyboard.right .inner .overlay {
				margin-left: 35rem;
				background: -webkit-linear-gradient(-158deg, 
					rgba(17,17,17,0) 81%,
					rgba(17,17,17,1) 93%);
			}

			.keyboard .inner .row {
					display: -webkit-flex;
				display: flex;
			}

			.key {
				flex: 0 0 4.8rem;
				height: 4.8rem;
				font-size: 1.8rem;

					display: -webkit-flex;
				display: flex;
				justify-content: center;
				align-items: center;
				border-style: solid;
				border-width: .2rem;
				border-radius: 2.6rem;
				border-color: #555;
				color: #bbb;
				margin: 0.4rem;
			}

			.key.text {
				font-size: 0.9rem;
			}

			.key.pressed {
	 		    -webkit-transform: scale(0.95, 0.95);
			    -moz-transform: scale(0.95, 0.95);
			    -ms-transform: scale(0.95, 0.95);
			    -o-transform: scale(0.95, 0.95);
				transform: scale(0.95, 0.95);
				color:#FFF;
				border-color: #fff;
				box-shadow: 0rem 0rem 1.8rem #bbb;
			}

			/*AACFD8*/
			/*
			yellow F4C437
			*/
			.key.pressed-wrong {
				/*DB7D9E*/
				/*DF8F8C*/
	 		    -webkit-transform: scale(0.95, 0.95);
			    -moz-transform: scale(0.95, 0.95);
			    -ms-transform: scale(0.95, 0.95);
			    -o-transform: scale(0.95, 0.95);
				transform: scale(0.95, 0.95);
				color:#E4648A;
				border-color: #E4648A;
				box-shadow: 0rem 0rem 1.8rem #E4648A;
			}

			.key.pressed-correct {
				/*C2DAB1*/
				/*D0E1A7*/
				/*55D9C0*/
				/*B4C76D*/
				/*77ACA1*/
				/*77EAAC*/
				/*7FFCD1****/
				/*5BE4A7****/
				/*8EEEF6*/
	 		    -webkit-transform: scale(0.95, 0.95);
			    -moz-transform: scale(0.95, 0.95);
			    -ms-transform: scale(0.95, 0.95);
			    -o-transform: scale(0.95, 0.95);
				transform: scale(0.95, 0.95);
				color:#8EEEF6;
				border-color: #8EEEF6;
				box-shadow: 0rem 0rem 1.8rem #8EEEF6;
			}


			.key.caps {
				margin-left: 2.5rem;
			}
			.key.shift {
				margin-left: 5.4rem;
			}
			.key.command {
				margin-left: 17.4rem;
			}
			.key.space {
				flex: 0 0 28.8rem;
				border-radius: 2.5rem;
			}

			.key.stack {
				font-size: 1.6rem;
				line-height: 1.8rem;
				align-content: center;
			}

			.itsy {
				line-height: 50%;
				font-size: 150%;
			}

			.legend {
				position: absolute;
				width:10rem;
				height: 12rem;

				left:-10.2rem;
				bottom: 0;
				
				color:#eee;
				font-family: 'PT mono';
				border: 0.1rem solid #222;
			}

			.legend div {
				position: absolute;
				font-size: 1.3rem;
				font-style: italic;
				color: #ccc;
			}

			.legend .thumb {
				top:4.4rem;
				left: 7.6rem;
			}

			.legend .index {
				top:0.4rem;
				left: 5.1rem;
			}

			.legend .middle {
				top:0rem;
				left: 3.7rem;
			}

			.legend .ring {
				top:0.6rem;
				left: 2.1rem;
			}

			.legend .pinkie {
				top:2.0rem;
				left: 0.8rem;
			}

			.chord {
					display: -webkit-flex;
				display: flex;
				flex-direction: row;
				font-size: 1.2rem;
				/*width: 100%;*/
				/*line-height: 2rem;*/
				/*min-height: 1.2rem;*/
			}

			.chord div {
				text-align: center;
				color: #bbb;
				font-family: Helvetica;
				min-width: 2.2rem;
				border-top: 1px solid #1e1e1e;
				border-right: 1px solid #1e1e1e;
			}

			.chord .c {
				font-style: italic;
				font-size: 1.3rem;
				/*line-height: 1.8rem;*/
				font-family: 'PT mono';
				min-width: 4.8rem;
				order: 1;
			}

			.chord .l {
				color: #fff;
				order: 2;
			}
			.chord .s {
				order: 5;
			}
			.chord .b {
				order: 4;
			}
			.chord .n {
				order: 3;
			}

			.chord.header div {
				font-style: normal;
				text-align: center;
				text-transform: uppercase;
				font-family: Helvetica;
				font-size: 0.9rem;
				color:#bbb;
				font-family: "Average Sans", sans-serif;
			}

			/*.chord.header .c {
				font-style: normal;
				background: red;
				min-width: 4.5rem;
			}*/

/*			.chord.header { order:1; }
			.chord.r { order:2; }
			.chord.pr { order:3; }
			.chord.pt { order:4; }*/


			footer .mast {
				position: relative;
				background: rgba(255,255,255,0.06);
				flex: 0 0 14rem;
				text-align: right;
			}

			footer .mast span {
				font-size: 1.5rem;
				font-weight: bold;
				position: absolute;
				bottom: 0.7rem;
				right: 1rem;
				font-family: "Open Sans";
				color:#ddd;
			}

			footer .menu {
				font-family: "Open Sans";
				font-size: 1rem;
				line-height: 1.3rem;
				flex: 1 1;
				text-transform: uppercase;
				padding-left: 1rem;
				color:#aaa;

					display: -webkit-flex;
				display: flex;
				flex-direction: column;
				justify-content: center;
			}

			a {
				text-decoration: none;
				color:#ddd;
			}

			input[name="other"] {
				width: 2rem;
				height: 2rem;
				font-size: 1rem;
				font-family: monospace;
				border-radius: 1.2rem;
				border:0.2rem solid green;
				text-align: center;
				padding: 0;
				margin:0;
			}

	/*		@media screen and (max-width: 45rem) {
			    .sidebar.right {
			        display: none;
			    }
			    .sidebar.left {
			        display: none;
			    }
			}

			@media screen and (max-width: 30rem) {
			    html {
			    	font-size: 9px;
				}
								footer {
					transform: scale(1.3, 1.3);
				}
			}

			@media screen and (max-width: 23rem) {
			    html {
			    	font-size: 8px;
				}

			}*/

			.practice {
				font-family: 'PT Mono', monospace;
			    float:left;
			    width: 100%;
			    font-size: 1em;
				border-radius: 1.25em;
				overflow: hidden;
			}

			.flex-container-practice {
			    display: flex;
			    flex-direction: column;
			    flex-wrap: nowrap;
			    justify-content: left;
			    align-content: left;
			    align-items: flex-start;
			}

			.flex-item-practice {
			    order: 0;
			    flex: 0 1 auto;
			    align-self: auto;
			    padding:0.75em 0em 0.75em 1em;
			    width:100%;
			    height:1.2em;
			    margin:1px;
			    background-color: #333;
			}

			.indicator {
				 float:right;
				 font-family: 'PT Mono', monospace;
				 text-align: right;
				 margin-right:1em;
			}

			#pre {
				transform: scale(0.95, 0.95);
				opacity: 0.9;

				-webkit-transform: rotateX(60deg); /* Safari */
 				transform: rotateX(60deg) scale(0.95, 0.95);
 				display: none;
			}

			#post {
				transform: scale(0.95, 0.95);
				opacity: 0.4;
				display: none;
			}

			.text2 {
				resize: none;
				/*width: 100%;*/
				font-family: courier;
				font-size: 1.8rem;
				line-height: 3rem;
				height: 9rem;
				overflow: hidden;
				border: none;
				/*padding: 0 1rem 0 1rem;*/

				max-width: 80.0rem;
				width: 100%;
				text-align: left;
				margin: 8rem auto 0;

				/*background: white;
				color: black;*/

				/*background: #191919;*/
				color: #ccc;
				font-family: "PT mono";
				/*courier font at 1.5rem: */
				/*width: 72.01rem;*/ /*minimum size for 80 chars*/
				/*width: 72.91rem;*/ /*maximum size for 80 chars*/
				/*padding left & right does not effect width calc*/
				/*padding top & bottom DOES effect height calc*/

			}
		</style>
	</head>

	<body>
		<div class="main">
			<div class="sidebar left">
				<div class="inner">
					<!-- <div style="width: 100%;background: red;height: 100%">
					</div> -->
					<form name="settings">
					SETTINGS<br>
					<br>
					Typing Hand<br>
					---------------<br>		
					<input type="radio" name="hand" value="left">LEFT&nbsp;
					<input type="radio" name="hand" value="right">RIGHT<br>
					<br>
					Current<br>
					Keyboard Layout<br>
					---------------<br>
					<input type="radio" name="layout" value="qwerty" checked>QWERTY<br>
					<input type="radio" name="layout" value="azerty">AZERTY<br>
					<input type="radio" name="layout" value="Dvorak">Dvorak<br>
					<input type="radio" name="layout" value="colemak">Colemak<br>
					<input type="radio" name="layout" value="workmak">Workman<br>
					
					<input type="radio" name="layout" value="chordak">Chordak<br>
					<input type="radio" name="layout" value="other">Other<br>
					(Click on each onscreen key and then press the keyboard key you want to assign it to.)<br>
					<br>

					Key Arrangement<br>
					---------------<br>
					<input type="radio" name="arrangement" value="staggered" checked>Staggered<br>
					<input type="radio" name="arrangement" value="grid">Grid<br>
					<br>

				
					Other<br>
					---------------<br>
					<input type="checkbox" name="preview" checked>Highlight Keys<br>
					<input type="checkbox" name="sound" checked>Error Sound<br>
					<input type="checkbox" name="sound">Show Full Board<br>
					<br>
					<input type="button" name="reset" value="Reset All"><br>
					</form>
				</div>
				<img class="icon" src="flower-icon.png"/>
				<!-- <span>&#9835;</span> -->
			</div>

			<div class="content">
				<div id="trainer" class="trainer">
	<!-- 				<div class="flex-item" style="margin-bottom: 0.5em">	
						<div class="indicator" style="width:5em">
							<span id="speed">-</span> wpm
						</div>
						<div class="indicator" style="width:6em">
							<span id="timer">0</span> sec
						</div>
					</div>

					<div class="flex-item">
						<div class="practice">
							<div class="flex-container-practice">
								<div id="test" class="flex-item-practice"></div>
								<div id="practice" class="flex-item-practice"></div>
							</div>
						</div>
					</div> -->
					<div id="pre" class="text2">this is the line that was just finished</div>
					<div id="text" class="text2">this is the line that was just finished<br>
					123456789-123456789-123456789-123456789-123456789-123456789-123456789-X<br>
					this is the next line up to be typed after the current one</div>
					<div id="post" class="text2">this is the upcoming line</div>

				</div>

				<div class="keyboard">
					<div class="inner">
						<div class="row">
				  			<div class="key text">ESC</div>
				  			<div class="key text">HYPER</div>
				  			<div class="key text">BRACES</div>
				  			<div class="key text">MOVE</div>
				  			<div class="key text">MARKS</div>
				  			<div class="key text">TAB</div>
				  			<div class="key text">TAB</div>
				  			<div class="key text">MARKS</div>
				  			<div class="key text">MOVE</div>
				  			<div class="key text">BRACES</div>
				  			<div class="key text">HYPER</div>
				  			<div class="key text">ESC</div>
				  			<div class="key"></div>
				  			<div class="key"></div>
						</div>
						
						<div class="row">
				  			<div class="key caps text">DELETE</div>
				  			<div class="key pressed-wrong"></div>
				  			<div class="key pressed-wrong"></div>
				  			<div class="key pressed-correct"></div>
				  			<div class="key pressed"></div>
				  			<div class="key">&crarr;</div>
				  			<div class="key text">RETURN</div>
				  			<div class="key pressed-wrong"></div>
				  			<div class="key pressed"></div>
				  			<div class="key"></div>
				  			<div class="key pressed-correct"></div>
				  			<div class="key text">DELETE</div>
				  			<div class="key return text"></div>
						</div>

						<div class="row">
				  			<div class="key shift">&#x21E7;</div>
				  			<div class="key text">FN</div>
				  			<div class="key text">CTRL</div>
				  			<div class="key ">&#8997;</div>
				  			<div class="key">&#x2318;</div>
				  			<div class="key">&#x21E7;</div>
				  			<div class="key">&#x2318;</div>
				  			<div class="key">&#8997;</div>
				  			<div class="key text">CTRL</div>
				  			<div class="key text">FN</div>
				  			<div class="key">&#x21E7;</div>
				  			<div class="key"></div>
						</div>

						<div class="row">
				  			<div class="key command">#...</div>
				  			<div class="key pressed space"></div>
				  			<div class="key">#...</div>
						</div>

						<div class="overlay">
						</div>
					</div>
				</div>
			</div>

				<!-- <div class="legend">
					<div class="legend-inner">
						<img src="temp-hand.png"/>
						<div class="thumb">t</div>
						<div class="index">i</div>
						<div class="middle">m</div>
						<div class="ring">r</div>
						<div class="pinkie">p</div>
					</div>
				</div> -->

				<div class="sidebar right">
					<div class="inner">
						<div class="chords">
							<div class="chord header">
								<div class="c">chord</div>
								<div class="l"></div>
								<div class="s">sym</div>
								<div class="b">bkt</div>
								<div class="n">num</div>
							</div>

							<div class="chord r">
								<div class="c">r</div>
								<div class="l">A</div>
								<div class="s">;</div>
								<div class="b">/</div>
								<div class="n">2</div>
							</div>

							<div class="chord pr">
								<div class="c">p&#x00B7;r</div>
								<div class="l">B</div>
								<div class="s">@</div>
								<div class="b">|</div>
								<div class="n">4</div>
							</div>

							<div class="chord pt">
								<div class="c">p&#x00B7;t</div>
								<div class="l">C</div>
								<div class="s">_</div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord it">
								<div class="c">i&#x00B7;t</div>
								<div class="l">D</div>
								<div class="s">=</div>
								<div class="b">{</div>
								<div class="n"></div>
							</div>

							<div class="chord i">
								<div class="c">i</div>
								<div class="l">E</div>
								<div class="s">!</div>
								<div class="b">)</div>
								<div class="n">0</div>
							</div>

							<div class="chord ir">
								<div class="c">i&#x00B7;r</div>
								<div class="l">F</div>
								<div class="s">$</div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord tm">
								<div class="c">t&#x00B7;m</div>
								<div class="l">G</div>
								<div class="s"></div>
								<div class="b">&gt;</div>
								<div class="n"></div>
							</div>

							<div class="chord rt">
								<div class="c">r&#x00B7;t</div>
								<div class="l">H</div>
								<div class="s">-</div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord mi">
								<div class="c">m&#x00B7;i</div>
								<div class="l">I</div>
								<div class="s">*</div>
								<div class="b">[</div>
								<div class="n">6</div>
							</div>

							<div class="chord mit">
								<div class="c">m&#x00B7;i&#x00B7;t</div>
								<div class="l">J</div>
								<div class="s"></div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord ip">
								<div class="c">i&#x00B7;p</div>
								<div class="l">K</div>
								<div class="s">~</div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord im">
								<div class="c">i&#x00B7;m</div>
								<div class="l">L</div>
								<div class="s">^</div>
								<div class="b">]</div>
								<div class="n"></div>
							</div>

							<div class="chord pm">
								<div class="c">p&#x00B7;m</div>
								<div class="l">M</div>
								<div class="s">&amp;</div>
								<div class="b"></div>
								<div class="n">7</div>
							</div>

							<div class="chord rm">
								<div class="c">r&#x00B7;m</div>
								<div class="l">N</div>
								<div class="s">:</div>
								<div class="b"></div>
								<div class="n">5</div>
							</div>

							<div class="chord p">
								<div class="c">p</div>
								<div class="l">O</div>
								<div class="s">"</div>
								<div class="b">/</div>
								<div class="n">3</div>
							</div>

							<div class="chord mr">
								<div class="c">m&#x00B7;r</div>
								<div class="l">P</div>
								<div class="s">%</div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord mp">
								<div class="c">m&#x00B7;p</div>
								<div class="l">Q</div>
								<div class="s">`</div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord mt">
								<div class="c">m&#x00B7;t</div>
								<div class="l">R</div>
								<div class="s">+</div>
								<div class="b">&lt;</div>
								<div class="n"></div>
							</div>

							<div class="chord ri">
								<div class="c">r&#x00B7;i</div>
								<div class="l">S</div>
								<div class="s"></div>
								<div class="b"></div>
								<div class="n">8</div>
							</div>

							<div class="chord m">
								<div class="c">m</div>
								<div class="l">T</div>
								<div class="s">?</div>
								<div class="b">(</div>
								<div class="n">1</div>
							</div>

							<div class="chord pi">
								<div class="c">p&#x00B7;i</div>
								<div class="l">U</div>
								<div class="s">#</div>
								<div class="b"></div>
								<div class="n">9</div>
							</div>

							<div class="chord tp">
								<div class="c">t&#x00B7;p</div>
								<div class="l">V</div>
								<div class="s"></div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord ti">
								<div class="c">t&#x00B7;i</div>
								<div class="l">W</div>
								<div class="s"></div>
								<div class="b">}</div>
								<div class="n"></div>
							</div>

							<div class="chord rmt">
								<div class="c">r&#x00B7;m&#x00B7;t</div>
								<div class="l">X</div>
								<div class="s"></div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord tr">
								<div class="c">t&#x00B7;r</div>
								<div class="l">Y</div>
								<div class="s"></div>
								<div class="b"></div>
								<div class="n"></div>
							</div>
							
							<div class="chord rp">
								<div class="c">r&#x00B7;p</div>
								<div class="l">Z</div>
								<div class="s"></div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord t">
								<div class="c">t</div>
								<div class="l">&#x2423;</div>
								<div class="s">'</div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord prm">
								<div class="c">p&#x00B7;r&#x00B7;m</div>
								<div class="l">.</div>
								<div class="s"></div>
								<div class="b"></div>
								<div class="n"></div>
							</div>

							<div class="chord rmi">
								<div class="c">r&#x00B7;m&#x00B7;i</div>
								<div class="l">,</div>
								<div class="s"></div>
								<div class="b"></div>
								<div class="n"></div>
							</div>
						</div>

						<span class="icon">&#9835;</span>
						<!-- <img class="icon" src="flower-icon.png"/> -->
					</div>
					<span style="color:#fff">
						keep visible
					</span>
				</div>
			</div>
		</div>

		<!-- <div>site design &copy;2017</div> -->
		<footer>
			<div class="mast">
				<span>CHORDAK</span>
			</div>
			<div class="menu">
				<div><a href="">info</a></div>
				<div><a href="">design</a></div>
				<div><a href="">forum</a></div>
				<div><a href="">pre-order</a></div>
			</div>
		</footer>

		<script>
		    var radios = document.settings.hand;
		    for(var i = 0; i < radios.length; i++) {
		    	radios[i].addEventListener("change", changeHandler);
		    }

		    function changeHandler(event) {
		    	var keyboard = document.getElementsByClassName('keyboard')[0];
				var ovelay = document.getElementsByClassName('keyboard-overlay')[0];


		    	var hand = event.target.value;
		    	var to = (hand == 'left') ? 'left' : 'right';
		    	var from = (hand == 'left') ? 'right' : 'left';

		    	keyboard.classList.remove(from);
		    	keyboard.classList.add(to);

		    	overlay.classList.remove(from);
		    	overlay.classList.add(to);
		    }
		    
			//macbook pro: 68 cN is enough to activate any key; some are softer because of wear from frequent use ('A', 54 cN) or replacement ('D', 48 cN)
				// 'A' 53.9 cN
				// 'S' 62.5 cN
				// 'D' 47.8 cN
				// 'F' 68.6 cN
				// ' ' 68.6 cN (near left edge)

			//cherry brown and clear switches look best so far because the reset point is so close to the activation point, provide tactile feedback, and are not too loud

			var chords = {};			

			//LETTERS
			chords['1'] = ' ';
			chords['432'] = ',';
			chords['543'] = '.';
			chords['5432'] = '.'; //duplicate for convenience

			chords['2'] = 'E';
			chords['3'] = 'T';
			chords['4'] = 'A';
			chords['5'] = 'O';
			chords['32'] = 'I';
			chords['43'] = 'N';
			chords['42'] = 'S';
			chords['41'] = 'H';
			chords['31'] = 'R';
			chords['21'] = 'D';
			chords['23'] = 'L';
			chords['51'] = 'C';
			chords['52'] = 'U';
			chords['53'] = 'M';
			chords['24'] = 'F';
			chords['34'] = 'P';
			chords['13'] = 'G';
			chords['12'] = 'W';
			chords['14'] = 'Y';
			chords['54'] = 'B';
			chords['15'] = 'V';
			chords['25'] = 'K';
			chords['431'] = 'X';
			chords['321'] = 'J';
			chords['35'] = 'Q';
			chords['45'] = 'Z';

			//BIGRAMS & TRIGRAMS
			// chords['341'] = '<u>TH</u>';
			// chords['412'] = '<u>HE</u>';
			// chords['3412'] = '<u>THE</u>';
			// chords['423'] = '<u>ST</u>';

			//NUMERALS
			// chords['1'] = ' ';
			// chords['432'] = ',';
			// chords['543'] = '.';
			// chords['5432'] = '.';

			// chords['2'] = '0';
			// chords['3'] = '1';
			// chords['4'] = '2';
			// chords['5'] = '3';
			// chords['54'] = '4';
			// chords['43'] = '5';
			// chords['32'] = '6';
			// chords['53'] = '7';
			// chords['42'] = '8';
			// chords['52'] = '9';


			//BARS & BRACKETS
			// chords['5'] = '/';
			// chords['4'] = '\\'; //escaped with extra backslash
			// chords['54'] = '|';
			// chords['3'] = '(';
			// chords['2'] = ')';
			// chords['32'] = '[';
			// chords['23'] = ']';
			// chords['21'] = '{';
			// chords['12'] = '}';
			// chords['31'] = '<';
			// chords['13'] = '>';

			//SYMBOLS & PUNCTUATION
			// chords['1'] = "'";
			// chords['5'] = '"';
			// chords['4'] = ';';
			// chords['3'] = '?';
			// chords['2'] = '!';
			// chords['51'] = '_';
			// chords['41'] = '-';
			// chords['31'] = '+';
			// chords['21'] = '=';
			// chords['43'] = ':';
			// chords['54'] = '@';
			// chords['53'] = '&';
			// chords['52'] = '#';
			// chords['32'] = '*';
			// chords['34'] = '%';
			// chords['24'] = '$';
			// chords['23'] = '^';
			// chords['25'] = '~';
			// chords['35'] = '`';

			//var home = [' ', 'F', 'D', 'S', 'A']; //qwerty
			var home = [' ', 'T', 'S', 'R', 'A']; //colemak left
			//var home = [' ', 'N', 'E', 'I', 'O']; //colemak right
			
			var raw = "";
			var pressed = [];
			var count = 0;
			var writing = ""

			// var textRaw =
			
			var test = "you might be one of those people that perform";
			//var test = "the quick brown fox jumps over the lazy dog";
			var start = 0;

			
			window.addEventListener("resize", debounceReflow);
			var textarea = document.getElementById("text");
			var w0 = textarea.clientWidth; //no counting border
			var out;
			function debounceReflow(event) {
				var w = textarea.clientWidth;
				// textarea.innerHTML = w;
				if (w != w0) {
					//only fires if width of writing area changed
					textarea.style.opacity = 0;
					window.clearTimeout(out);
					out = window.setTimeout(reflow, 100);
				}
			}

			function reflow() {
				var w = textarea.clientWidth;
				textarea.innerHTML = "reflow... " + w + "px... " + (w/10) + "rem";
				w0 = w;
				textarea.style.opacity = 1;
			}

			function zzz(event) {
				var tar = event.target;
			    var w = window.outerWidth;
			    var h = window.outerHeight;
			    var txt = "Window size: width=" + w + ", height=" + h;
			    document.getElementById("trainer").innerHTML = txt;
			    //document.getElementById("demo").innerHTML = txt;
			}

			
			document.body.addEventListener("keydown", keydownHandler);
			document.body.addEventListener("keyup", keyupHandler);
			var speed = document.getElementById("speed");
			var timer = document.getElementById("timer");
			var timeout;

			document.getElementById("test").innerHTML = test;
			var practice = document.getElementById("practice");
			y = 0;

			practice.innerHTML = "TEST";

			function keydownHandler(e) {
				var key = e.which;
				var letter = String.fromCharCode(key);
				//alert("down " + key);
				
				if (pressed[key] == true) { return; }

				for (i = 0; i < 5; i++) {
					if (letter == home[i]) {
						pressed[key] = true;
						count++;
						raw += (i+1);
						// x.innerHTML = raw;
					}
				}

				// e.preventDefault();

				//prevents scrolling when pressing spacebar
				if (key == 32) {
					e.preventDefault();
				}
				//if (key == 9) {
				//	e.preventDefault();
				//}

				
				if (key == 8 || key == 20) {
					e.preventDefault();
					writing = writing.slice(0, writing.length-1);
					practice.innerHTML = writing;
					// x.innerHTML = "<small>&#9003;</small>";
					// x2.innerHTML = "backspace";
				}

				if (start == 0 && count != 0) {
					start = Date.now();
					timeout = window.setTimeout(timeoutHandler, 1000);
					timer.innerHTML = '0';
					speed.innerHTML = '-';
				}
			}

			function timeoutHandler() {
				var elapsed = (Date.now() - start) / 1000;
				var error = elapsed - Math.floor(elapsed);
				error = Math.floor(error * 1000);
				timer.innerHTML = Math.floor(elapsed);
				if (elapsed < 60) {
					timeout = window.setTimeout(timeoutHandler, 1000-error);
				}
			}

			function pad(s){
				return s;
			}

			function keyupHandler(e) {
				var key = e.which;
				var letter = String.fromCharCode(key);
				//alert("up " + key);

				if (pressed[key] == true) { 
					pressed[key] = false;
					count--;
				}

				//special case for caps lock being turned off
				if (key == 20) {
					e.preventDefault();
					writing = writing.slice(0, writing.length-1);
					practice.innerHTML = writing;
					// x.innerHTML = "<small>&#9003;</small>";
					// x2.innerHTML = "backspace";
				}

				if (count == 0) {
					if(chords[raw]) {
						// x.innerHTML = raw;
						// x2.innerHTML = chords[raw];
						//writing += raw + "_"; //use for getting raw output
						writing += chords[raw].toLowerCase();
						practice.innerHTML = writing;
					} else {
						if (key != 8 || key != 20) {
							// x2.innerHTML = "unassigned";
						}
						
					}
					raw = "";

					if(start != 0 && writing == test) {
						window.clearTimeout(timeout);
						var elapsed = Date.now() - start; //ms
						var seconds = Math.round(elapsed / 100) / 10;
						var wpm = (test.length / 5) / (elapsed / 1000 / 60);
						wpm = Math.round(wpm * 10) / 10;

						speed.innerHTML = pad(wpm);
						timer.innerHTML = pad(seconds);

						start = 0;
						writing = "";
					}
				}
			}
		</script>
	</body>
</html>